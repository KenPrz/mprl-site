import{_ as v}from"./Modal-CI_0XVw3.js";import{s as B,I as D,d as _,e as p,g as e,j as i,p as M,h as S,F as m,m as T,J as $,f as u,i as h,x as c,u as f,k as b}from"./app-EkJNg7si.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const a=o=>(M("data-v-e2a28bf7"),o=o(),S(),o),F={class:"overflow-x-auto"},I={class:"styled-table w-full"},N=a(()=>e("i",{class:"pi pi-sort"},null,-1)),V=a(()=>e("i",{class:"pi pi-sort"},null,-1)),j=a(()=>e("i",{class:"pi pi-sort"},null,-1)),E=a(()=>e("i",{class:"pi pi-sort"},null,-1)),O=a(()=>e("i",{class:"pi pi-sort"},null,-1)),P=a(()=>e("th",null," Action ",-1)),q={class:"table-cell"},z={class:"hidden sm:table-cell"},J={class:"hidden lg:table-cell"},L={class:"hidden xl:table-cell"},U={class:"hidden lg:table-cell"},W={class:"flex items-center space-x-2"},Y=a(()=>e("i",{class:"pi pi-pencil"},null,-1)),G=["onClick"],H=a(()=>e("i",{class:"pi pi-trash"},null,-1)),K=[H],Q={class:"flex flex-col items-center space-y-4 p-8 bg-gray-100 rounded-lg shadow-md"},R=a(()=>e("h1",{class:"text-2xl font-semibold text-center text-red-400"},"Delete Blog",-1)),X={class:"text-center"},Z={class:"font-semibold"},ee={class:"flex space-x-4"},g=B(),se={data(){return{showDeleteModal:!1,selected:{title:null,id:null}}},methods:{openDeleteModal(o,d){this.selected.title=o,this.selected.id=d,this.showDeleteModal=!0},deleteBlog(o){this.$inertia.delete(route("admin.blog.destroy",o),{onSuccess:()=>{g.success("Blog deleted successfully!"),this.selected.title=null,this.selected.id=null,this.showDeleteModal=!1},onError:()=>{g.error("Failed to delete blog!"),this.selected.title=null,this.selected.id=null,this.showDeleteModal=!1}})}}},te=Object.assign(se,{__name:"BlogTable",props:{blogs:{type:Array,required:!0}},setup(o){const d=o,n=D({id:"asc",title:"asc",name:"asc",is_published:"asc",is_featured:"asc",clicks:"asc"});function k(){r("title"),d.blogs.sort((s,t)=>n.title==="asc"?s.title.localeCompare(t.title):t.title.localeCompare(s.title))}function w(){r("name"),d.blogs.sort((s,t)=>n.name==="asc"?s.first_name.localeCompare(t.first_name):t.first_name.localeCompare(s.first_name))}function y(){r("is_published"),d.blogs.sort((s,t)=>n.is_published==="asc"?s.is_published-t.is_published:t.is_published-s.is_published)}function x(){r("is_featured"),d.blogs.sort((s,t)=>n.is_featured==="asc"?s.is_featured-t.is_featured:t.is_featured-s.is_featured)}function C(){r("clicks"),d.blogs.sort((s,t)=>n.clicks==="asc"?s.clicks-t.clicks:t.clicks-s.clicks)}function r(s){n[s]=n[s]==="asc"?"desc":"asc"}return(s,t)=>(_(),p(m,null,[e("div",F,[e("table",I,[e("thead",null,[e("tr",null,[e("th",{class:"table-cell"},[e("button",{onClick:k},[i(" Title "),N])]),e("th",{class:"hidden sm:table-cell"},[e("button",{onClick:w},[i(" Author "),V])]),e("th",{class:"hidden lg:table-cell"},[e("button",{onClick:y},[i(" Status "),j])]),e("th",{class:"hidden xl:table-cell"},[e("button",{onClick:x},[i(" Featured "),E])]),e("th",{class:"hidden lg:table-cell"},[e("button",{onClick:C},[i(" Clicks "),O])]),P])]),e("tbody",null,[(_(!0),p(m,null,T(d.blogs,l=>(_(),p("tr",{class:$(l.is_published?"":"not-published"),key:l.id},[e("td",q,[u(f(b),{class:"text-ellipsis hover:underline hover:text-blue-400",href:s.route("blog.show",l.id)},{default:h(()=>[i(c(l.title),1)]),_:2},1032,["href"])]),e("td",z,c(l.first_name),1),e("td",J,c(l.is_published?"Published":"Not Published"),1),e("td",L,c(l.is_featured?"Yes":"No"),1),e("td",U,c(l.clicks),1),e("td",null,[e("span",W,[u(f(b),{href:s.route("admin.blog.edit",l.id),class:"text-green-500"},{default:h(()=>[Y]),_:2},1032,["href"]),e("button",{onClick:le=>s.openDeleteModal(l.title,l.id),class:"text-red-500"},K,8,G),u(f(b),{class:"md:hidden text-blue-500 hover:underline",href:s.route("blog.show",l.id)},{default:h(()=>[i("View")]),_:2},1032,["href"])])])],2))),128))])])]),u(v,{maxWidth:"md",show:s.showDeleteModal,"onUpdate:show":t[2]||(t[2]=l=>s.showDeleteModal=l),onClose:t[3]||(t[3]=l=>s.showDeleteModal=!1)},{default:h(()=>[e("div",Q,[R,e("p",X,[i("Are you sure you want to delete "),e("span",Z,'"'+c(s.selected.title)+'"',1),i("?")]),e("div",ee,[e("button",{onClick:t[0]||(t[0]=l=>s.showDeleteModal=!1),class:"bg-gray-400 text-white px-4 py-2 rounded-lg"},"Cancel"),e("button",{onClick:t[1]||(t[1]=l=>s.deleteBlog(s.selected.id)),class:"bg-red-400 text-white px-4 py-2 rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}}),de=A(te,[["__scopeId","data-v-e2a28bf7"]]);export{de as default};
