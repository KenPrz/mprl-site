import{T as B,r as v,o as j,b as g,c as f,d as i,u as t,Z as U,w as u,e,i as $,f as w,g as h,m as E,t as N,j as A,v as y,F as V,h as D,p as F,l as M}from"./app-CnlmfPpy.js";import{_ as T}from"./AuthenticatedLayout-Dp7rDHVB.js";import{_ as p}from"./InputError-BN-hN_5I.js";import{_ as k}from"./Toggle-DiusMwrH.js";import{s as P,V as L}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-_1QSzsEr.js";import{E as R}from"./Editor-CGjuC4gl.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CBssuap1.js";import"./Dropdown-h2357vda.js";const a=c=>(F("data-v-4af75e7c"),c=c(),M(),c),z=a(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Create Blog",-1)),H={class:"py-12"},W={class:"flex flex-col space-y-5 max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"flex justify-start"},G={class:"w-full bg-white rounded-md p-4 shadow-md space-y-2"},J={class:"flex-row sm:flex sm:items-center sm:space-x-4"},K={class:"sm:w-3/4"},O=a(()=>e("label",{for:"form-title",class:"block text-lg font-medium text-gray-700"},"Title",-1)),Q=["disabled"],X={class:"sm:w-1/4"},Y=a(()=>e("label",{for:"categories",class:"block text-lg font-medium text-gray-700"},"Categories",-1)),ee={key:0,class:"multiselect__single"},se={class:"flex space-x-3"},te=a(()=>e("label",{for:"is_published",class:"block text-lg font-medium text-gray-700"},"Published",-1)),oe=a(()=>e("label",{for:"is_featured",class:"block text-lg font-medium text-gray-700"},"Featured",-1)),le={class:"mb-4"},ie=a(()=>e("label",{for:"images",class:"block text-lg font-medium text-gray-700 mb-2"}," Images ",-1)),ae={class:"relative"},re=["disabled"],ne=a(()=>e("label",{for:"images",class:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm cursor-pointer hover:bg-gray-50 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent"},[e("svg",{class:"w-5 h-5 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),e("span",null,"Choose images")],-1)),de=a(()=>e("p",{class:"mt-1 text-sm text-gray-500"}," Select one or more image files ",-1)),ce={class:"flex flex-wrap mt-4"},me=["onClick"],ue=a(()=>e("i",{style:{color:"red"},class:"pi pi-times-circle"},null,-1)),ge=[ue],fe=["src"],pe={class:"mt-4 flex justify-end"},_e=["disabled"],he=a(()=>e("i",{class:"pi pi-plus pe-2"},null,-1)),be=["disabled"],xe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-full p-2"},ve={class:"flex justify-center mt-4"},we=["disabled"],ye=a(()=>e("i",{style:{"font-size":"1.2rem"},class:"pi pi-arrow-circle-up me-2"},null,-1)),Ve=a(()=>e("span",{class:"text-lg font-semibold"},"Submit",-1)),ke=[ye,Ve],Ce={__name:"Create",props:{categories:{type:Array,required:!0}},setup(c){const C=c,s=B({images:[],categories:[],title:"",content:"",is_published:!0,is_featured:!1}),_=v("Write your blog content here..."),r=v([]);function b(d){const l=d.target.files,o=[],n=[];Array.from(l).forEach(m=>{o.push(m);const x=new FileReader;x.onload=S=>{n.push(S.target.result),n.length===l.length&&(s.images.push(...o),r.value.push(...n))},x.readAsDataURL(m)})}function I(){s.content=_.value,s.categories=s.categories.map(d=>d.id),s.post(route("admin.blog.store"),{preserveScroll:!0,onSuccess:()=>{s.reset(),r.value=[]}})}return j(()=>{s.clearErrors()}),(d,l)=>(g(),f(V,null,[i(t(U),{title:"Create Blog"}),i(T,null,{header:u(()=>[z]),default:u(()=>[e("div",H,[e("div",W,[e("div",Z,[i(t($),{class:"bg-main-400 px-2 py-1 rounded-md text-white hover:bg-main-500 mb-2",href:d.route("admin.blog.index")},{default:u(()=>[w(" Back ")]),_:1},8,["href"])]),e("div",G,[e("div",J,[e("div",K,[O,h(e("input",{disabled:t(s).processing,id:"form-title",class:"w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[0]||(l[0]=o=>t(s).title=o),type:"text"},null,8,Q),[[E,t(s).title]]),i(p,{class:"mt-2",message:t(s).errors.title},null,8,["message"])]),e("div",X,[Y,i(t(P),{modelValue:t(s).categories,"onUpdate:modelValue":l[1]||(l[1]=o=>t(s).categories=o),options:C.categories,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select categories",label:"name","track-by":"id","preselect-first":!1},{selection:u(({values:o,search:n,isOpen:m})=>[o.length&&!m?(g(),f("span",ee,N(o.length)+" categories selected ",1)):A("",!0)]),_:1},8,["modelValue","options"]),i(p,{class:"mt-2",message:t(s).errors.categories},null,8,["message"])]),e("div",se,[e("div",null,[te,i(k,{modelValue:t(s).is_published,"onUpdate:modelValue":l[2]||(l[2]=o=>t(s).is_published=o)},null,8,["modelValue"])]),e("div",null,[oe,i(k,{modelValue:t(s).is_featured,"onUpdate:modelValue":l[3]||(l[3]=o=>t(s).is_featured=o)},null,8,["modelValue"])])])]),h(e("div",le,[ie,e("div",ae,[e("input",{disabled:t(s).processing,id:"images",type:"file",multiple:"",onChange:b,class:"hidden"},null,40,re),ne,de])],512),[[y,r.value.length<1]]),e("div",ce,[i(t(L),{modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=o=>r.value=o),tag:"div",class:"flex flex-wrap"},{default:u(()=>[(g(!0),f(V,null,D(r.value,(o,n)=>(g(),f("div",{key:n,class:"w-1/4 p-2"},[e("button",{onClick:m=>r.value.splice(n,1),class:"relative top-0 right-0"},ge,8,me),e("img",{src:o,class:"w-full h-auto rounded-md shadow-md cursor-move"},null,8,fe)]))),128))]),_:1},8,["modelValue"]),i(p,{class:"mt-2",message:t(s).errors.images},null,8,["message"])]),e("div",pe,[h(e("button",{disabled:t(s).processing,onClick:l[5]||(l[5]=o=>d.$refs.moreImages.click()),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-main-500 border border-transparent rounded-md shadow-sm hover:bg-main-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main-500 transition duration-150 ease-in-out"},[he,w(" Add More Images ")],8,_e),[[y,r.value.length>0]]),e("input",{disabled:t(s).processing,id:"more-images",ref:"moreImages",class:"hidden",type:"file",multiple:"",onChange:b},null,40,be)])]),e("div",xe,[i(p,{class:"mt-2",message:t(s).errors.content},null,8,["message"]),i(R,{modelValue:_.value,"onUpdate:modelValue":l[6]||(l[6]=o=>_.value=o)},null,8,["modelValue"])]),e("div",ve,[e("button",{disabled:t(s).processing,class:"w-full inline-flex justify-center items-center px-4 py-2 text-sm font-medium text-white bg-main-500 border border-transparent rounded-md shadow-sm hover:bg-main-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main-500 transition duration-150 ease-in-out",onClick:I},ke,8,we)])])])]),_:1})],64))}},De=q(Ce,[["__scopeId","data-v-4af75e7c"]]);export{De as default};
