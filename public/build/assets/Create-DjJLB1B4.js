import{t as S,T as z,r as C,o as F,d as u,e as g,f as a,u as o,Z as I,j as h,g as e,l as P,p as V,i as q,v as f,x as _,L as A,F as b,q as x,y as U,k as B}from"./app-Bggvsate.js";import{_ as M}from"./AuthenticatedLayout-Dw-NYtN5.js";import{_ as n}from"./InputError-DKCkpr5B.js";import{u as D}from"./useFileSizeCheck-imJxUYqy.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CGKtPefA.js";import"./Dropdown-Zr03yGGL.js";const r=d=>(V("data-v-197b6b45"),d=d(),q(),d),N=r(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Add Project",-1)),T={class:"p-4 sm:p-6 lg:p-8"},$={class:"max-w-7xl mx-auto space-y-6"},L={class:"flex justify-start"},R=r(()=>e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1)),G=r(()=>e("span",null,"Go Back",-1)),O={class:"bg-white rounded-lg shadow-md p-6 space-y-6"},Z={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},H=r(()=>e("label",{for:"form-name",class:"block text-sm font-medium text-gray-700 mb-1"},"Project Name",-1)),J=r(()=>e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1"},"Select Category",-1)),K=r(()=>e("option",{disabled:""},"Category",-1)),Q=["value"],W={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},X={class:"space-y-6"},Y={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ee=r(()=>e("label",{for:"form-system-size",class:"block text-sm font-medium text-gray-700 mb-1"},"System Size",-1)),se=r(()=>e("label",{for:"form-monthly-saving",class:"block text-sm font-medium text-gray-700 mb-1"},"Monthly Saving",-1)),te=r(()=>e("label",{for:"form-description",class:"block text-sm font-medium text-gray-700 mb-1"},"Project Description",-1)),oe={class:"flex justify-between items-center mb-2"},re=r(()=>e("label",{for:"file-upload",class:"block text-sm font-medium text-gray-700"},[B("Image/s "),e("span",{class:"text-xs"},"(3 images max)")],-1)),le={class:"bg-green-500 px-3 py-1 rounded-lg text-white"},ae=r(()=>e("label",{for:"file-upload",class:"flex items-center cursor-pointer"},[e("i",{class:"fa-solid fa-plus text-xl mr-1"}),e("span",{class:"hidden sm:inline"},"Add Images")],-1)),ie={class:"bg-gray-300 rounded-lg w-full h-64 flex items-center justify-center overflow-hidden"},ne={class:"flex space-x-2"},de=["src"],ce=["onClick"],me=r(()=>e("i",{class:"fa-solid fa-times"},null,-1)),ue=[me],ge={__name:"Create",props:{services:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(d){const p=S(),{checkFileSize:w}=D(1.5),s=z({title:"",category_id:"",content:"",system_size:"",monthly_saving:"",image:[]}),c=C([]);function k(){s.post(route("admin.projects.store"),{preserveScroll:!0,onSuccess:()=>{p.success("Project added successfully!"),s.reset(),c.value=[]},onError:i=>{p.error("Failed to add project. Please check the form and try again."),console.error(i)}})}function j(i){Array.from(i.target.files).forEach(t=>{if(w(t)){const m=new FileReader;m.onload=v=>{c.value.length===3&&y(2),c.value.push(v.target.result),s.image.push(t)},m.readAsDataURL(t)}else p.error(`File "${t.name}" exceeds the 1.5 MB size limit.`)})}function y(i){c.value.splice(i,1),s.image.splice(i,1),p.info("Image removed.")}return F(()=>{s.clearErrors()}),(i,l)=>(u(),g(b,null,[a(o(I),{title:"Admin: Projects"}),a(M,null,{header:h(()=>[N]),default:h(()=>[e("div",T,[e("div",$,[e("div",L,[a(o(P),{class:"bg-main-400 px-4 py-2 rounded-md text-white hover:bg-main-500",href:i.route("admin.projects.index")},{default:h(()=>[R,G]),_:1},8,["href"])]),e("div",O,[e("div",Z,[e("div",null,[H,f(e("input",{id:"form-name",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[0]||(l[0]=t=>o(s).title=t),type:"text",required:""},null,512),[[_,o(s).title]]),a(n,{class:"mt-2",message:o(s).errors.title},null,8,["message"])]),e("div",null,[J,f(e("select",{id:"category",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[1]||(l[1]=t=>o(s).category_id=t)},[K,(u(!0),g(b,null,x(d.categories,t=>(u(),g("option",{key:t.id,value:t.id},U(t.name),9,Q))),128))],512),[[A,o(s).category_id]]),a(n,{class:"mt-2",message:o(s).errors.category_id},null,8,["message"])])]),e("div",W,[e("div",X,[e("div",Y,[e("div",null,[ee,f(e("input",{id:"form-system-size",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[2]||(l[2]=t=>o(s).system_size=t),type:"number",required:""},null,512),[[_,o(s).system_size]]),a(n,{class:"mt-2",message:o(s).errors.system_size},null,8,["message"])]),e("div",null,[se,f(e("input",{id:"form-monthly-saving",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[3]||(l[3]=t=>o(s).monthly_saving=t),type:"text",required:""},null,512),[[_,o(s).monthly_saving]]),a(n,{class:"mt-2",message:o(s).errors.monthly_saving},null,8,["message"])])]),e("div",null,[te,f(e("textarea",{id:"form-description",class:"w-full h-40 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[4]||(l[4]=t=>o(s).content=t)},null,512),[[_,o(s).content]]),a(n,{class:"mt-2",message:o(s).errors.content},null,8,["message"])])]),e("div",null,[e("div",oe,[re,a(n,{class:"",message:o(s).errors.image},null,8,["message"]),e("div",le,[e("input",{type:"file",multiple:"",onChange:j,class:"hidden",id:"file-upload"},null,32),ae])]),e("div",ie,[e("div",ne,[(u(!0),g(b,null,x(c.value,(t,m)=>(u(),g("div",{key:m,class:"relative"},[e("img",{src:t,class:"w-32 h-32 object-cover rounded-lg mx-5"},null,8,de),e("button",{onClick:v=>y(m),class:"absolute top-0 right-5 bg-red-500 h-8 w-8 text-white rounded-full p-1 transform translate-x-1/2 -translate-y-1/2"},ue,8,ce)]))),128))])])])]),e("div",{class:"flex justify-end mt-6"},[e("button",{type:"submit",class:"bg-green-500 px-4 py-2 text-white rounded-lg hover:bg-green-600",onClick:k}," Submit ")])])])])]),_:1})],64))}},xe=E(ge,[["__scopeId","data-v-197b6b45"]]);export{xe as default};
