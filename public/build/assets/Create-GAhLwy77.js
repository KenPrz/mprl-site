import{s as C,T as F,r as I,o as P,d as g,e as b,f as a,u as t,Z as D,i as _,g as e,k as T,p as j,h as A,t as d,v as i,L as B,F as h,m as v,x as E,j as u}from"./app-EkJNg7si.js";import{_ as N}from"./AuthenticatedLayout-Gln5m5Fm.js";import{_ as n}from"./InputError-CDJqJ9vG.js";import{_ as $}from"./Toggle-BvmlxkxW.js";import{u as q}from"./useFileSizeCheck-DB3tfstT.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-WGTthfcB.js";import"./Dropdown-BjTmceD1.js";const l=c=>(j("data-v-390f38d5"),c=c(),A(),c),M=l(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"New Product Information Form",-1)),z={class:"p-4 sm:p-6 lg:p-8"},G={class:"max-w-7xl mx-auto space-y-6"},R={class:"flex justify-start"},W=l(()=>e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1)),O=l(()=>e("span",null,"Go Back",-1)),Z={class:"bg-white rounded-lg shadow-md p-6 space-y-6"},H={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},J=l(()=>e("label",{for:"form-name",class:"block text-sm font-medium text-gray-700 mb-1"},"Product Name",-1)),K=l(()=>e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1"},"Select Category",-1)),Q=l(()=>e("option",{disabled:"",selected:""},"Category",-1)),X=["value"],Y={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ee=l(()=>e("label",{for:"prod-name",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),se={class:"flex justify-between items-center mb-2"},te=l(()=>e("label",{class:"block text-sm font-medium text-gray-700"},[u("Product Image/s "),e("span",{class:"text-xs"},"(3 images max)")],-1)),oe={class:"bg-main-400 hover:bg-main-600 px-3 py-1 rounded-lg text-white"},re=l(()=>e("label",{for:"file-upload",class:"flex items-center cursor-pointer"},[e("i",{class:"fa-solid fa-plus text-xl mr-1"}),e("span",{class:"hidden sm:inline"},"Add Images")],-1)),le={class:"bg-gray-100 rounded-lg w-full h-48 flex items-center justify-center overflow-hidden"},ae={class:"flex space-x-2"},ne=["src"],de=["onClick"],ie=l(()=>e("i",{class:"fa-solid fa-times"},null,-1)),ue=[ie],me={class:"border-t pt-6"},ce=l(()=>e("h3",{class:"text-lg font-semibold mb-4"},"Product Specifications",-1)),fe={class:"mb-4"},pe=l(()=>e("h4",{class:"font-medium mb-2"},[u("General Information "),e("span",{class:"text-sm font-normal"},"(Fields with * are required)")],-1)),ge={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},be=l(()=>e("label",{for:"form-price",class:"block text-sm font-medium text-gray-700 mb-1"},"Current Price",-1)),ye=l(()=>e("label",{for:"form-discount",class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier",-1)),_e=l(()=>e("label",{for:"form-warranty",class:"block text-sm font-medium text-gray-700 mb-1"},"Warranty*",-1)),he=l(()=>e("label",{for:"form-stock-level",class:"block text-sm font-medium text-gray-700 mb-1"},"Stock Level",-1)),xe=l(()=>e("label",{for:"form-supplier",class:"block text-sm font-medium text-gray-700 mb-1"},"DataSheet(url)",-1)),we=l(()=>e("label",{for:"is_featured",class:"block text-sm font-medium text-gray-700 mb-1"},"Displayed",-1)),ve=l(()=>e("h4",{class:"font-medium mb-2"},[u("Technical Information "),e("span",{class:"text-sm font-normal"},"(Fields with * are required)")],-1)),ke={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ve=l(()=>e("label",{for:"form-power-out",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Power Out* "),e("sup",null,"in watts")],-1)),Ue=l(()=>e("label",{for:"form-efficiency",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Efficiency* "),e("sup",null,"in %")],-1)),Se=l(()=>e("label",{for:"form-voltage",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Voltage* "),e("sup",null,"in V")],-1)),Ce=l(()=>e("label",{for:"form-dimension",class:"block text-sm font-medium text-gray-700 mb-1"},"Dimensions*",-1)),Fe=l(()=>e("label",{for:"form-weight",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Weight* "),e("sup",null,"in kilogram")],-1)),Ie=l(()=>e("label",{for:"form-current",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Current* "),e("sup",null,"in ampere")],-1)),Pe=l(()=>e("label",{for:"form-temp_coeff",class:"block text-sm font-medium text-gray-700 mb-1"},[u("Temperature Coefficient* "),e("sup",null,"in Â°C")],-1)),De=l(()=>e("label",{for:"form-type",class:"block text-sm font-medium text-gray-700 mb-1"},"Type*",-1)),Te=l(()=>e("label",{for:"form-certification",class:"block text-sm font-medium text-gray-700 mb-1"},"Certification*",-1)),je={__name:"Create",props:{categories:{type:Array,required:!0}},setup(c){const y=C(),{checkFileSize:k}=q(1.5),V=c,s=F({name:"",category_id:"",power_out:"",efficiency:"",dimension:"",weight:"",type:"",voltage:"",current:"",temp_coeff:"",price:"",discount:"",warranty:"",stock_level:"",supplier:"",certification:"",description:"",img_path:[],datasheet:"",is_displayed:!1}),f=I([]);function U(){s.post(route("admin.products.store"),{preserveScroll:!0,onSuccess:()=>{y.success("Product added successfully!"),s.reset(),f.value=[]},onError:m=>{y.error("Failed to add product. Please check the form and try again."),console.error(m)}})}function S(m){Array.from(m.target.files).forEach(o=>{if(k(o)){const p=new FileReader;p.onload=w=>{f.value.length===3&&x(2),f.value.push(w.target.result),s.img_path.push(o)},p.readAsDataURL(o)}else y.error(`File "${o.name}" exceeds the 1.5 MB size limit.`)})}function x(m){f.value.splice(m,1),s.img_path.splice(m,1),y.info("Image removed. Save changes to confirm deletion.")}return P(()=>{s.clearErrors()}),(m,r)=>(g(),b(h,null,[a(t(D),{title:"Add Product"}),a(N,null,{header:_(()=>[M]),default:_(()=>[e("div",z,[e("div",G,[e("div",R,[a(t(T),{class:"bg-main-400 px-4 py-2 rounded-md text-white hover:bg-main-500",href:m.route("admin.products.index")},{default:_(()=>[W,O]),_:1},8,["href"])]),e("div",Z,[e("div",H,[e("div",null,[J,d(e("input",{id:"form-name",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[0]||(r[0]=o=>t(s).name=o),type:"text",required:""},null,512),[[i,t(s).name]]),a(n,{class:"mt-2",message:t(s).errors.name},null,8,["message"])]),e("div",null,[K,d(e("select",{id:"category",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[1]||(r[1]=o=>t(s).category_id=o)},[Q,(g(!0),b(h,null,v(V.categories,o=>(g(),b("option",{key:o.id,value:o.id},E(o.name),9,X))),128))],512),[[B,t(s).category_id]]),a(n,{class:"mt-2",message:t(s).errors.category_id},null,8,["message"])])]),e("div",Y,[e("div",null,[ee,d(e("textarea",{class:"w-full h-40 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[2]||(r[2]=o=>t(s).description=o)},null,512),[[i,t(s).description]]),a(n,{class:"mt-2",message:t(s).errors.description},null,8,["message"])]),e("div",null,[e("div",se,[te,a(n,{class:"mt-2",message:t(s).errors.img_path},null,8,["message"]),e("div",oe,[e("input",{type:"file",multiple:"",onChange:S,class:"hidden",id:"file-upload"},null,32),re])]),e("div",le,[e("div",ae,[(g(!0),b(h,null,v(f.value,(o,p)=>(g(),b("div",{key:p,class:"relative"},[e("img",{src:o,class:"w-32 h-32 object-cover rounded-lg mx-5"},null,8,ne),e("button",{onClick:w=>x(p),class:"absolute top-0 right-5 bg-red-500 h-8 w-8 text-white rounded-full p-1 transform translate-x-1/2 -translate-y-1/2"},ue,8,de)]))),128))])])])]),e("div",me,[ce,e("div",fe,[pe,e("div",ge,[e("div",null,[be,d(e("input",{id:"form-price",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[3]||(r[3]=o=>t(s).price=o),type:"number"},null,512),[[i,t(s).price]]),a(n,{class:"mt-1",message:t(s).errors.price},null,8,["message"])]),e("div",null,[ye,d(e("input",{id:"form-discount",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[4]||(r[4]=o=>t(s).supplier=o),type:"text"},null,512),[[i,t(s).supplier]]),a(n,{class:"mt-1",message:t(s).errors.supplier},null,8,["message"])]),e("div",null,[_e,d(e("input",{id:"form-warranty",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[5]||(r[5]=o=>t(s).warranty=o),type:"text"},null,512),[[i,t(s).warranty]]),a(n,{class:"mt-1",message:t(s).errors.warranty},null,8,["message"])]),e("div",null,[he,d(e("input",{id:"form-stock-level",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[6]||(r[6]=o=>t(s).stock_level=o),type:"number"},null,512),[[i,t(s).stock_level]]),a(n,{class:"mt-1",message:t(s).errors.stock_level},null,8,["message"])]),e("div",null,[xe,d(e("input",{id:"form-supplier",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[7]||(r[7]=o=>t(s).datasheet=o),type:"text"},null,512),[[i,t(s).datasheet]]),a(n,{class:"mt-1",message:t(s).errors.datasheet},null,8,["message"])]),e("div",null,[we,a($,{modelValue:t(s).is_displayed,"onUpdate:modelValue":r[8]||(r[8]=o=>t(s).is_displayed=o),class:"mt-1"},null,8,["modelValue"]),a(n,{class:"mt-1",message:t(s).errors.is_displayed},null,8,["message"])])])]),e("div",null,[ve,e("div",ke,[e("div",null,[Ve,d(e("input",{id:"form-power-out",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[9]||(r[9]=o=>t(s).power_out=o),type:"number"},null,512),[[i,t(s).power_out]]),a(n,{class:"mt-1",message:t(s).errors.power_out},null,8,["message"])]),e("div",null,[Ue,d(e("input",{id:"form-efficiency",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[10]||(r[10]=o=>t(s).efficiency=o),type:"number"},null,512),[[i,t(s).efficiency]]),a(n,{class:"mt-1",message:t(s).errors.efficiency},null,8,["message"])]),e("div",null,[Se,d(e("input",{id:"form-voltage",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[11]||(r[11]=o=>t(s).voltage=o),type:"text"},null,512),[[i,t(s).voltage]]),a(n,{class:"mt-1",message:t(s).errors.voltage},null,8,["message"])]),e("div",null,[Ce,d(e("input",{id:"form-dimension",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[12]||(r[12]=o=>t(s).dimension=o),type:"text"},null,512),[[i,t(s).dimension]]),a(n,{class:"mt-1",message:t(s).errors.dimension},null,8,["message"])]),e("div",null,[Fe,d(e("input",{id:"form-weight",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[13]||(r[13]=o=>t(s).weight=o),type:"number"},null,512),[[i,t(s).weight]]),a(n,{class:"mt-1",message:t(s).errors.weight},null,8,["message"])]),e("div",null,[Ie,d(e("input",{id:"form-current",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[14]||(r[14]=o=>t(s).current=o),type:"number"},null,512),[[i,t(s).current]]),a(n,{class:"mt-1",message:t(s).errors.current},null,8,["message"])]),e("div",null,[Pe,d(e("input",{id:"form-temp_coeff",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[15]||(r[15]=o=>t(s).temp_coeff=o),type:"text"},null,512),[[i,t(s).temp_coeff]]),a(n,{class:"mt-1",message:t(s).errors.temp_coeff},null,8,["message"])]),e("div",null,[De,d(e("input",{id:"form-type",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[16]||(r[16]=o=>t(s).type=o),type:"text"},null,512),[[i,t(s).type]]),a(n,{class:"mt-1",message:t(s).errors.type},null,8,["message"])]),e("div",null,[Te,d(e("input",{id:"form-certification",class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":r[17]||(r[17]=o=>t(s).certification=o),type:"text"},null,512),[[i,t(s).certification]]),a(n,{class:"mt-1",message:t(s).errors.certification},null,8,["message"])])])])]),e("div",{class:"flex justify-end mt-6"},[e("button",{type:"submit",class:"bg-main-500 px-4 py-2 text-white rounded-lg hover:bg-main-600",onClick:U}," Submit ")])])])])]),_:1})],64))}},ze=L(je,[["__scopeId","data-v-390f38d5"]]);export{ze as default};
