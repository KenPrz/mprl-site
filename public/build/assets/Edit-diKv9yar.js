import{T as V,r as S,o as z,b as m,c as u,d as i,u as o,Z as I,w as h,e,i as U,g as f,m as y,I as C,F as b,h as v,t as E,p as P,l as q,f as A}from"./app-CnlmfPpy.js";import{_ as B}from"./AuthenticatedLayout-Dp7rDHVB.js";import{_ as p}from"./InputError-BN-hN_5I.js";import{E as D}from"./Editor-CGjuC4gl.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-CBssuap1.js";import"./Dropdown-h2357vda.js";const a=n=>(P("data-v-739be65f"),n=n(),q(),n),M=a(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Update Project",-1)),N={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"flex justify-start"},L=a(()=>e("i",{class:"fa-solid fa-arrow-left px-4"},null,-1)),R=a(()=>e("span",null,"Go Back",-1)),G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg flex flex-col"},O={class:"w-full bg-white rounded-md p-4 shadow-md space-y-2"},Z={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},H={class:"col-span-1"},J=a(()=>e("label",{for:"form-name",class:"block text-lg font-medium text-gray-700"},"Project Name",-1)),K={class:"col-span-1"},Q=a(()=>e("label",{for:"form-category",class:"block text-lg font-medium text-gray-700"},"Select Category",-1)),W=a(()=>e("option",{disabled:""},"Category",-1)),X=["value"],Y={class:"grid grid-cols-1 sm:grid-cols-1 gap-4"},ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},se={class:"col-span-1"},te={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-5"},oe={class:"col-span-1"},le=a(()=>e("label",{for:"form-system-size",class:"block text-lg font-medium text-gray-700"},"System Size",-1)),ae={class:"col-span-1"},re=a(()=>e("label",{for:"form-monthly-saving",class:"block text-lg font-medium text-gray-700"},"Monthly Saving",-1)),ie={class:"mt-5"},ne=a(()=>e("label",{for:"form-description",class:"block text-lg font-medium text-gray-700"},"Project Description",-1)),de={class:"col-span-1"},ce={class:"flex justify-between"},me=a(()=>e("label",{for:"file-upload",class:"block text-lg font-medium text-gray-700 p-3"},[A("Image/s "),e("sup",null,"(max 1 image upload)")],-1)),ue={class:"flex justify-between items-center mt-2"},pe={class:"bg-green-500 px-2 py-1 rounded-lg text-white"},ge=a(()=>e("label",{for:"file-upload",class:"flex cursor-pointer"},[e("i",{class:"fa-solid fa-plus text-xl"}),e("span",{class:"ml-1 hidden sm:flex items-center"},"Add Images")],-1)),fe={class:"bg-gray-300 rounded-lg w-full h-56 mt-2 flex items-center justify-center overflow-hidden"},_e={class:"flex space-x-2"},he=["src"],ye=["onClick"],be=a(()=>e("i",{class:"fa-solid fa-times"},null,-1)),ve=[be],xe={__name:"Edit",props:{project:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(n){const r=n,s=V({title:r.project.title,category_id:r.project.category_id,system_size:r.project.system_size,monthly_saving:r.project.monthly_saving,content:r.project.content,img_path:[]}),g=S([]);z(()=>{r.project.images&&r.project.images.length>0&&(g.value=r.project.images),s.clearErrors()});function x(){s.patch(route("admin.projects.update",r.project.id))}function w(d){const l=d.target.files;for(let t=0;t<l.length;t++){const c=l[t],_=new FileReader;_.onload=k=>{g.value.push(k.target.result),s.img_path.push(c)},_.readAsDataURL(c)}}function j(d){g.value.splice(d,1),s.img_path.splice(d,1)}return(d,l)=>(m(),u(b,null,[i(o(I),{title:"Admin: Projects"}),i(B,null,{header:h(()=>[M]),default:h(()=>[e("div",N,[e("div",T,[e("div",$,[i(o(U),{class:"bg-main-400 px-2 py-1 rounded-md text-white hover:bg-main-500 mb-2",href:d.route("admin.projects.index")},{default:h(()=>[L,R]),_:1},8,["href"])]),e("div",G,[e("div",O,[e("div",Z,[e("div",H,[J,f(e("input",{id:"form-name",class:"w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[0]||(l[0]=t=>o(s).title=t),type:"text",required:""},null,512),[[y,o(s).title]]),i(p,{class:"mt-2",message:o(s).errors.title},null,8,["message"])]),e("div",K,[Q,f(e("select",{id:"category",class:"w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[1]||(l[1]=t=>o(s).category_id=t)},[W,(m(!0),u(b,null,v(n.categories,t=>(m(),u("option",{key:t.id,value:t.id},E(t.name),9,X))),128))],512),[[C,o(s).category_id]]),i(p,{class:"mt-2",message:o(s).errors.category_id},null,8,["message"])])]),e("div",Y,[e("div",ee,[e("div",se,[e("div",te,[e("div",oe,[le,f(e("input",{id:"form-system-size",class:"w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[2]||(l[2]=t=>o(s).system_size=t),type:"number",required:""},null,512),[[y,o(s).system_size]]),i(p,{class:"mt-2",message:o(s).errors.system_size},null,8,["message"])]),e("div",ae,[re,f(e("input",{id:"form-monthly-saving",class:"w-full mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","onUpdate:modelValue":l[3]||(l[3]=t=>o(s).monthly_saving=t),type:"text",required:""},null,512),[[y,o(s).monthly_saving]]),i(p,{class:"mt-2",message:o(s).errors.monthly_saving},null,8,["message"])])]),e("div",ie,[ne,i(D,{modelValue:o(s).content,"onUpdate:modelValue":l[4]||(l[4]=t=>o(s).content=t)},null,8,["modelValue"]),i(p,{class:"mt-2",message:o(s).errors.content},null,8,["message"])])]),e("div",de,[e("div",ce,[me,e("div",ue,[e("div",pe,[e("input",{type:"file",multiple:"",onChange:w,class:"hidden",id:"file-upload"},null,32),ge])])]),e("div",fe,[e("div",_e,[(m(!0),u(b,null,v(g.value,(t,c)=>(m(),u("div",{key:c,class:"relative"},[e("img",{src:t,class:"w-24 h-24 object-cover rounded-lg"},null,8,he),e("button",{onClick:_=>j(c),class:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 transform translate-x-1/2 -translate-y-1/2"},ve,8,ye)]))),128))])])])]),e("div",{class:"flex justify-end mt-5"},[e("button",{type:"",class:"bg-green-500 px-3 py-1 text-white rounded-lg",onClick:x},"Update")])])])])])])]),_:1})],64))}},Ue=F(xe,[["__scopeId","data-v-739be65f"]]);export{Ue as default};
