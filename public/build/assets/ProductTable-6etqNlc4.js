import{s as b,I as C,d as u,e as p,g as e,j as i,p as x,h as D,F as _,m as k,x as r,f as h,i as m,u as M,k as v}from"./app-BCrYp6Y1.js";import{_ as P}from"./Modal-CpsrZ3iU.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const a=l=>(x("data-v-be931f17"),l=l(),D(),l),B={class:"styled-table"},N=a(()=>e("i",{class:"pi pi-sort"},null,-1)),$=a(()=>e("i",{class:"pi pi-sort"},null,-1)),I=a(()=>e("th",null," Price ",-1)),T=a(()=>e("i",{class:"pi pi-sort"},null,-1)),A=a(()=>e("th",null," Action ",-1)),F={class:"flex items-center space-x-2"},V=a(()=>e("i",{class:"fa-solid fa-pen"},null,-1)),j=["onClick"],E=a(()=>e("i",{class:"pi pi-trash"},null,-1)),O=[E],q={class:"flex flex-col items-center space-y-4 p-8 bg-gray-100 rounded-lg shadow-md"},L=a(()=>e("h1",{class:"text-2xl font-semibold text-center text-red-400"},"Delete Product",-1)),U={class:"text-center"},W={class:"font-semibold"},Y={class:"flex space-x-4"},y=b(),z={data(){return{showDeleteModal:!1,selected:{name:null,id:null}}},methods:{openDeleteModal(l,n){this.selected.name=l,this.selected.id=n,this.showDeleteModal=!0},deleteProduct(l){this.$inertia.delete(route("admin.products.destroy",l),{onSuccess:()=>{y.success("Product deleted successfully!"),this.selected.name=null,this.selected.id=null,this.showDeleteModal=!1},onError:()=>{y.error("Failed to delete product!"),this.selected.name=null,this.selected.id=null,this.showDeleteModal=!1}})}}},G=Object.assign(z,{__name:"ProductTable",props:{products:{type:Array,required:!0}},setup(l){const n=l,d=C({id:"asc",name:"asc",category_name:"asc",price:"asc",supplier:"asc",is_displayed:"asc"});function f(){c("name"),n.products.sort((s,t)=>d.name==="asc"?s.name.localeCompare(t.name):t.name.localeCompare(s.name))}function g(){c("is_displayed"),n.products.sort((s,t)=>d.is_displayed==="asc"?s.is_displayed-t.is_displayed:t.is_displayed-s.is_displayed)}function w(){c("category_name"),n.products.sort((s,t)=>d.category_name==="asc"?s.category_name.localeCompare(t.category_name):t.category_name.localeCompare(s.category_name))}function c(s){d[s]=d[s]==="asc"?"desc":"asc"}return(s,t)=>(u(),p(_,null,[e("table",B,[e("thead",null,[e("tr",null,[e("th",null,[e("button",{onClick:f},[i(" Name "),N])]),e("th",null,[e("button",{onClick:w},[i(" Category "),$])]),I,e("th",null,[e("button",{onClick:g},[i(" Displayed "),T])]),A])]),e("tbody",null,[(u(!0),p(_,null,k(n.products,o=>(u(),p("tr",{key:o.id},[e("td",null,r(o.name),1),e("td",null,r(o.category_name),1),e("td",null,r(o.price),1),e("td",null,r(o.is_displayed?"Yes":"No"),1),e("td",null,[e("span",F,[h(M(v),{href:s.route("admin.products.edit",o.id),class:"text-green-500"},{default:m(()=>[V]),_:2},1032,["href"]),e("button",{onClick:H=>s.openDeleteModal(o.name,o.id),class:"text-red-500"},O,8,j)])])]))),128))])]),h(P,{maxWidth:"md",show:s.showDeleteModal,"onUpdate:show":t[2]||(t[2]=o=>s.showDeleteModal=o),onClose:t[3]||(t[3]=o=>s.showDeleteModal=!1)},{default:m(()=>[e("div",q,[L,e("p",U,[i("Are you sure you want to delete "),e("span",W,'"'+r(s.selected.name)+'"',1),i("?")]),e("div",Y,[e("button",{onClick:t[0]||(t[0]=o=>s.showDeleteModal=!1),class:"bg-gray-400 text-white px-4 py-2 rounded-lg"},"Cancel"),e("button",{onClick:t[1]||(t[1]=o=>s.deleteProduct(s.selected.id)),class:"bg-red-400 text-white px-4 py-2 rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}}),R=S(G,[["__scopeId","data-v-be931f17"]]);export{R as default};
