import{E as g,G as D,b as u,c as p,e,f as d,F as h,h as x,t as c,d as _,w as m,u as k,i as v,p as M,l as j}from"./app-CnlmfPpy.js";import{_ as B}from"./Modal-BmvHWvkA.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const i=l=>(M("data-v-9be2ec14"),l=l(),j(),l),P={class:"styled-table"},S=i(()=>e("i",{class:"pi pi-sort"},null,-1)),$=i(()=>e("i",{class:"pi pi-sort"},null,-1)),N=i(()=>e("i",{class:"pi pi-sort"},null,-1)),T=i(()=>e("i",{class:"pi pi-sort"},null,-1)),A=i(()=>e("th",null," Action ",-1)),E={class:"flex items-center space-x-2"},F=i(()=>e("i",{class:"fa-solid fa-pen"},null,-1)),V=["onClick"],O=i(()=>e("i",{class:"pi pi-trash"},null,-1)),q=[O],G={class:"flex flex-col items-center space-y-4 p-8 bg-gray-100 rounded-lg shadow-md"},L=i(()=>e("h1",{class:"text-2xl font-semibold text-center text-red-400"},"Delete Project",-1)),U={class:"text-center"},W={class:"font-semibold"},z={class:"flex space-x-4"},f=g(),H={data(){return{showDeleteModal:!1,selected:{title:null,id:null}}},methods:{openDeleteModal(l,n){this.selected.title=l,this.selected.id=n,this.showDeleteModal=!0},deleteProject(l){this.$inertia.delete(route("admin.projects.destroy",l),{onSuccess:()=>{f.success("Project deleted successfully!"),this.selected.title=null,this.selected.id=null,this.showDeleteModal=!1},onError:()=>{f.error("Failed to delete project!"),this.selected.title=null,this.selected.id=null,this.showDeleteModal=!1}})}}},J=Object.assign(H,{__name:"ProjectTable",props:{projects:{type:Array,required:!0}},setup(l){const n=l,a=D({id:"asc",title:"asc",name:"asc",description:"asc"});function y(){r("title"),n.projects.sort((t,s)=>a.title==="asc"?t.title.localeCompare(s.title):s.title.localeCompare(t.title))}function C(){r("id"),n.services.sort((t,s)=>a.id==="asc"?t.id-s.id:s.id-t.id)}function w(){r("name"),n.projects.sort((t,s)=>a.name==="asc"?t.category_name.localeCompare(s.name):s.name.localeCompare(t.name))}function b(){r("description"),n.projects.sort((t,s)=>a.description==="asc"?t.description.localeCompare(s.description):s.description.localeCompare(t.description))}function r(t){a[t]=a[t]==="asc"?"desc":"asc"}return(t,s)=>(u(),p(h,null,[e("table",P,[e("thead",null,[e("tr",null,[e("th",null,[e("button",{onClick:C},[d(" ID "),S])]),e("th",null,[e("button",{onClick:y},[d(" Name "),$])]),e("th",null,[e("button",{onClick:w},[d(" Category "),N])]),e("th",null,[e("button",{onClick:b},[d(" Description "),T])]),A])]),e("tbody",null,[(u(!0),p(h,null,x(n.projects,o=>(u(),p("tr",{key:o.id},[e("td",null,c(o.id),1),e("td",null,c(o.title),1),e("td",null,c(o.name),1),e("td",null,c(o.content),1),e("td",null,[e("span",E,[_(k(v),{href:t.route("admin.projects.edit",o.id),class:"text-green-500"},{default:m(()=>[F]),_:2},1032,["href"]),e("button",{onClick:K=>t.openDeleteModal(o.title,o.id),class:"text-red-500"},q,8,V)])])]))),128))])]),_(B,{maxWidth:"md",show:t.showDeleteModal,"onUpdate:show":s[2]||(s[2]=o=>t.showDeleteModal=o),onClose:s[3]||(s[3]=o=>t.showDeleteModal=!1)},{default:m(()=>[e("div",G,[L,e("p",U,[d("Are you sure you want to delete "),e("span",W,'"'+c(t.selected.title)+'"',1),d("?")]),e("div",z,[e("button",{onClick:s[0]||(s[0]=o=>t.showDeleteModal=!1),class:"bg-gray-400 text-white px-4 py-2 rounded-lg"},"Cancel"),e("button",{onClick:s[1]||(s[1]=o=>t.deleteProject(t.selected.id)),class:"bg-red-400 text-white px-4 py-2 rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}}),Y=I(J,[["__scopeId","data-v-9be2ec14"]]);export{Y as default};
