import{V as D,W as Q,J as Z,r as E,X as W,w as ee,d as p,e as y,g as s,p as te,i as se,v as ne,x as ae,k as x,F as U,q as R,y as _,f as w,j as N,u as oe,l as re,h as ie}from"./app-Dvv3Ibiv.js";import{_ as A}from"./Modal-BL7HfwLO.js";import le from"./UserEdit-sL08_nvU.js";import ce from"./UserDelete-K8ZNJSRm.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";function ue(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}var z=ue,fe=typeof D=="object"&&D&&D.Object===Object&&D,me=fe,_e=me,be=typeof self=="object"&&self&&self.Object===Object&&self,he=_e||be||Function("return this")(),J=he,ge=J,ve=function(){return ge.Date.now()},pe=ve,ye=/\s/;function xe(e){for(var o=e.length;o--&&ye.test(e.charAt(o)););return o}var Te=xe,$e=Te,Se=/^\s+/;function je(e){return e&&e.slice(0,$e(e)+1).replace(Se,"")}var we=je,Ce=J,Oe=Ce.Symbol,Y=Oe,F=Y,K=Object.prototype,ke=K.hasOwnProperty,Ie=K.toString,C=F?F.toStringTag:void 0;function De(e){var o=ke.call(e,C),r=e[C];try{e[C]=void 0;var i=!0}catch{}var l=Ie.call(e);return i&&(o?e[C]=r:delete e[C]),l}var Ee=De,Ue=Object.prototype,Le=Ue.toString;function Me(e){return Le.call(e)}var Ne=Me,P=Y,Be=Ee,Ge=Ne,We="[object Null]",Re="[object Undefined]",V=P?P.toStringTag:void 0;function Ae(e){return e==null?e===void 0?Re:We:V&&V in Object(e)?Be(e):Ge(e)}var Fe=Ae;function Pe(e){return e!=null&&typeof e=="object"}var Ve=Pe,He=Fe,qe=Ve,Xe="[object Symbol]";function ze(e){return typeof e=="symbol"||qe(e)&&He(e)==Xe}var Je=ze,Ye=we,H=z,Ke=Je,q=NaN,Qe=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,et=/^0o[0-7]+$/i,tt=parseInt;function st(e){if(typeof e=="number")return e;if(Ke(e))return q;if(H(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=H(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=Ye(e);var r=Ze.test(e);return r||et.test(e)?tt(e.slice(2),r?2:8):Qe.test(e)?q:+e}var nt=st,at=z,B=pe,X=nt,ot="Expected a function",rt=Math.max,it=Math.min;function lt(e,o,r){var i,l,m,u,c,b,g=0,O=!1,v=!1,S=!0;if(typeof e!="function")throw new TypeError(ot);o=X(o)||0,at(r)&&(O=!!r.leading,v="maxWait"in r,m=v?rt(X(r.maxWait)||0,o):m,S="trailing"in r?!!r.trailing:S);function j(t){var d=i,$=l;return i=l=void 0,g=t,u=e.apply($,d),u}function h(t){return g=t,c=setTimeout(T,o),O?j(t):u}function L(t){var d=t-b,$=t-g,G=o-d;return v?it(G,m-$):G}function k(t){var d=t-b,$=t-g;return b===void 0||d>=o||d<0||v&&$>=m}function T(){var t=B();if(k(t))return I(t);c=setTimeout(T,L(t))}function I(t){return c=void 0,S&&i?j(t):(i=l=void 0,u)}function M(){c!==void 0&&clearTimeout(c),g=0,i=b=l=c=void 0}function a(){return c===void 0?u:I(B())}function n(){var t=B(),d=k(t);if(i=arguments,l=this,b=t,d){if(c===void 0)return h(b);if(v)return clearTimeout(c),c=setTimeout(T,o),j(b)}return c===void 0&&(c=setTimeout(T,o)),u}return n.cancel=M,n.flush=a,n}var ct=lt;const dt=Q(ct),f=e=>(te("data-v-9b052254"),e=e(),se(),e),ut={class:"users-container"},ft={class:"flex justify-between items-center mb-4"},mt=f(()=>s("h2",{class:"text-2xl font-semibold text-gray-800"},"Users",-1)),_t={class:"search-container"},bt=f(()=>s("i",{class:"pi pi-search search-icon"},null,-1)),ht={class:"table-container"},gt={class:"styled-table w-full"},vt=f(()=>s("i",{class:"pi pi-sort"},null,-1)),pt=f(()=>s("i",{class:"pi pi-sort"},null,-1)),yt=f(()=>s("i",{class:"pi pi-sort"},null,-1)),xt=f(()=>s("i",{class:"pi pi-sort"},null,-1)),Tt=f(()=>s("i",{class:"pi pi-sort"},null,-1)),$t=f(()=>s("i",{class:"pi pi-sort"},null,-1)),St=f(()=>s("th",null," Action ",-1)),jt={class:"table-cell"},wt={class:"table-cell"},Ct={class:"hidden sm:table-cell"},Ot={class:"hidden lg:table-cell"},kt={class:"hidden xl:table-cell"},It={class:"hidden lg:table-cell"},Dt={class:"flex items-center space-x-2"},Et=["onClick"],Ut=f(()=>s("i",{class:"pi pi-pencil"},null,-1)),Lt=[Ut],Mt=["onClick"],Nt=f(()=>s("i",{class:"pi pi-trash"},null,-1)),Bt=[Nt],Gt={class:"mt-4 flex justify-between items-center text-sm"},Wt={class:"text-gray-600"},Rt={class:"flex space-x-1"},At=["onClick","innerHTML"],Ft=["innerHTML"],Pt={__name:"UsersTable",props:{users:{type:Object,required:!0},filters:{type:Object,default:()=>({})}},setup(e){const o=e,r=Z({id:"asc",name:"asc",email:"asc",role:"asc",is_google_user:"asc",created_at:"asc"}),i=E(!1),l=E(!1),m=E(null),u=E(o.filters.search),c=dt(()=>{W.get(route("admin.users.index"),{search:u.value},{preserveState:!0,replace:!0})},300);ee(u,c);function b(){h("id"),o.users.data.sort((a,n)=>r.id==="asc"?a.id-n.id:n.id-a.id)}function g(){h("name"),o.users.data.sort((a,n)=>r.name==="asc"?`${a.first_name} ${a.last_name}`.localeCompare(`${n.first_name} ${n.last_name}`):`${n.first_name} ${n.last_name}`.localeCompare(`${a.first_name} ${a.last_name}`))}function O(){h("email"),o.users.data.sort((a,n)=>r.email==="asc"?a.email.localeCompare(n.email):n.email.localeCompare(a.email))}function v(){h("role"),o.users.data.sort((a,n)=>r.role==="asc"?a.role_id-n.role_id:n.role_id-a.role_id)}function S(){h("is_google_user"),o.users.data.sort((a,n)=>r.is_google_user==="asc"?a.is_google_user-n.is_google_user:n.is_google_user-a.is_google_user)}function j(){h("created_at"),o.users.data.sort((a,n)=>r.created_at==="asc"?new Date(a.created_at)-new Date(n.created_at):new Date(n.created_at)-new Date(a.created_at))}function h(a){r[a]=r[a]==="asc"?"desc":"asc"}function L(a){m.value=a,i.value=!0}function k(a){m.value=a,l.value=!0}function T(){i.value=!1}function I(){l.value=!1}function M(a){W.get(a,{preserveScroll:!0})}return(a,n)=>(p(),y(U,null,[s("div",ut,[s("div",ft,[mt,s("div",_t,[ne(s("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>u.value=t),placeholder:"Search users...",class:"search-input"},null,512),[[ae,u.value]]),bt])]),s("div",ht,[s("table",gt,[s("thead",null,[s("tr",null,[s("th",{class:"table-cell"},[s("button",{onClick:b,class:"sort-button"},[x(" ID "),vt])]),s("th",{class:"table-cell"},[s("button",{onClick:g,class:"sort-button"},[x(" Name "),pt])]),s("th",{class:"hidden sm:table-cell"},[s("button",{onClick:O,class:"sort-button"},[x(" Email "),yt])]),s("th",{class:"hidden lg:table-cell"},[s("button",{onClick:v,class:"sort-button"},[x(" Role "),xt])]),s("th",{class:"hidden xl:table-cell"},[s("button",{onClick:S,class:"sort-button"},[x(" Google User "),Tt])]),s("th",{class:"hidden lg:table-cell"},[s("button",{onClick:j,class:"sort-button"},[x(" Created At "),$t])]),St])]),s("tbody",null,[(p(!0),y(U,null,R(e.users.data,t=>(p(),y("tr",{key:t.id},[s("td",jt,_(t.id),1),s("td",wt,_(t.first_name)+" "+_(t.last_name),1),s("td",Ct,_(t.email),1),s("td",Ot,_(t.role_id),1),s("td",kt,_(t.is_google_user?"Yes":"No"),1),s("td",It,_(new Date(t.created_at).toLocaleDateString()),1),s("td",null,[s("span",Dt,[s("button",{onClick:d=>L(t),class:"action-button text-green-500"},Lt,8,Et),s("button",{onClick:d=>k(t),class:"action-button text-red-500"},Bt,8,Mt),w(oe(re),{class:"md:hidden text-blue-500 hover:underline",href:a.route("admin.users.show",t.id)},{default:N(()=>[x("View")]),_:2},1032,["href"])])])]))),128))])])]),s("div",Gt,[s("div",Wt," Showing "+_(e.users.from)+" to "+_(e.users.to)+" of "+_(e.users.total)+" results ",1),s("div",Rt,[(p(!0),y(U,null,R(e.users.links,(t,d)=>(p(),y(U,{key:d},[t.url?(p(),y("button",{key:0,onClick:$=>M(t.url),class:ie(["px-3 py-1 rounded",t.active?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]),innerHTML:t.label},null,10,At)):(p(),y("span",{key:1,innerHTML:t.label,class:"px-3 py-1 text-gray-500"},null,8,Ft))],64))),128))])])]),w(A,{maxWidth:"md",show:i.value,"onUpdate:show":n[2]||(n[2]=t=>i.value=t),onClose:n[3]||(n[3]=t=>i.value=!1)},{default:N(()=>[w(le,{user:m.value,onClose:n[1]||(n[1]=t=>i.value=!1),onUpdated:T},null,8,["user"])]),_:1},8,["show"]),w(A,{maxWidth:"md",show:l.value,"onUpdate:show":n[5]||(n[5]=t=>l.value=t),onClose:n[6]||(n[6]=t=>l.value=!1)},{default:N(()=>[w(ce,{user:m.value,onClose:n[4]||(n[4]=t=>l.value=!1),onDeleted:I},null,8,["user"])]),_:1},8,["show"])],64))}},Jt=de(Pt,[["__scopeId","data-v-9b052254"]]);export{Jt as default};
